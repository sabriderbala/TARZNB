<div class="page">
<div class="container mt-3" style="width: 1200px;">
<div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
  <div class="carousel-inner" style="height: 500px; border-radius: 3%;">
      <% @caban.photos.each_with_index do |photo, index| %>
      <% if index == 0 %>
        <div class="carousel-item active">
      <% else %>
        <div class="carousel-item">
      <% end %>
          <%= cl_image_tag photo.key, height: 500, width: 1200, crop: :fill %>
        </div>
      <% end %>
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>
</div>



<div class="container mt-3" style="width: 1200px">
  <div class="container">
    <div class="card-trip-infos d-flex title border-bottom border-dark justify-content-between">
      <h2 class="card-title"><%= @caban.name.capitalize %></h2>
      <h3 class="card-text"><%= @caban.price %>€</h3>
    </div>
  <div class="infos mt-3">
    <h5 class="fst-italic">Découvrez cette magnifique cabane située : <%= @caban.address %></h5>
    <h5 class="card-text"><%= @caban.description.capitalize %></h5>
  </div>
  <div class="container d-flex justify-content-end">
  <% if @caban.user != current_user %>
    <div class="m-3">
    <%= link_to "Réserver", new_caban_booking_path(@caban), class: "btn btn-primary" %>
    </div>
  <% end %>
    <div class="m-3">
    <%= link_to "Retour", cabans_path(@cabans), class: "btn btn-primary" %>

    </div>

  </div>
  </div>
  <div class="container">
    <h2 class="card-title border-bottom border-dark text-center">Localisation</h2>
    <div class="mt-3" style="width: 100%; height: 500px;"
      data-controller="map"
      data-map-markers-value="<%= @marker.to_json %>"
      data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
    </div>
  </div>
</div>
</div>
